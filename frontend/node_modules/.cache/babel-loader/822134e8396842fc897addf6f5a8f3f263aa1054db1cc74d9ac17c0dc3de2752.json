{"ast":null,"code":"var _jsxFileName = \"F:\\\\Projects\\\\Automation Dashboard\\\\frontend\\\\src\\\\components\\\\FacebookPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport apiClient from '../services/apiClient';\nimport './SocialMediaPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction FacebookPage() {\n  _s();\n  const navigate = useNavigate();\n  const {\n    logout\n  } = useAuth();\n  const [isConnecting, setIsConnecting] = useState(false);\n  const [connectionStatus, setConnectionStatus] = useState('');\n\n  // Facebook OAuth states\n  const [selectedPage, setSelectedPage] = useState(null);\n  const [availablePages, setAvailablePages] = useState([]); // Store all fetched pages\n  const [facebookConnected, setFacebookConnected] = useState(false);\n\n  // Auto-reply toggle state\n  const [autoReplyEnabled, setAutoReplyEnabled] = useState(false);\n\n  // Tab selection state\n  const [activeTab, setActiveTab] = useState('auto');\n\n  // Auto post states\n  const [autoFormData, setAutoFormData] = useState({\n    prompt: '',\n    mediaType: 'none',\n    // 'none', 'photo', 'video'\n    mediaFile: null,\n    generatedContent: '',\n    isGenerating: false\n  });\n\n  // Manual post states\n  const [manualFormData, setManualFormData] = useState({\n    message: '',\n    mediaType: 'none',\n    mediaFile: null\n  });\n\n  // Publishing state\n  const [isPublishing, setIsPublishing] = useState(false);\n\n  // fetchPages function\n  const fetchPages = async accessToken => {\n    console.debug('[fetchPages] Called with accessToken:', accessToken);\n    console.debug('[fetchPages] Using dual apps:', USE_DUAL_APPS);\n    if (!accessToken) {\n      setConnectionStatus('âŒ No Facebook access token found. Please try reconnecting.');\n      setIsConnecting(false);\n      setFacebookConnected(false);\n      return {\n        mappedPages: [],\n        userInfo: null\n      };\n    }\n    try {\n      var _permissionsResponse$;\n      // If using dual apps, get pages access token via direct API call\n      if (USE_DUAL_APPS) {\n        console.debug('[fetchPages] Dual app mode - requesting pages access via direct API...');\n        setConnectionStatus('ðŸ”„ Getting page permissions...');\n\n        // For now, try using the original access token but with pages app API calls\n        // This is a simplified approach that might work if the user has already granted permissions\n        console.debug('[fetchPages] Using original access token for pages API calls');\n        setConnectionStatus('ðŸ”„ Attempting to fetch pages with current permissions...');\n      }\n      // Check what permissions we actually have\n      const permissionsResponse = await new Promise((resolve, reject) => {\n        window.FB.api('/me/permissions', {\n          access_token: accessToken\n        }, response => {\n          console.debug('[FB.api] /me/permissions response:', response);\n          if (response.error) reject(new Error(response.error.message));else resolve(response);\n        });\n      });\n      const grantedPermissions = ((_permissionsResponse$ = permissionsResponse.data) === null || _permissionsResponse$ === void 0 ? void 0 : _permissionsResponse$.filter(p => p.status === 'granted').map(p => p.permission)) || [];\n      console.debug('[fetchPages] Granted permissions:', grantedPermissions);\n      console.debug('[fetchPages] All permissions (including declined):', permissionsResponse.data);\n\n      // In dual app mode, we expect basic permissions only\n      if (USE_DUAL_APPS) {\n        console.debug('[fetchPages] Dual app mode - checking if we have basic login permissions');\n        if (grantedPermissions.includes('public_profile')) {\n          console.debug('[fetchPages] Basic login successful, need to connect pages app');\n          throw new Error('NEED_PAGES_AUTH'); // Trigger pages auth flow\n        }\n      } else {\n        // Check for required permissions in single app mode\n        const requiredPermissions = ['pages_show_list', 'pages_manage_posts'];\n        const missingPermissions = requiredPermissions.filter(p => !grantedPermissions.includes(p));\n        if (missingPermissions.length > 0) {\n          setConnectionStatus(`âŒ Missing permissions: ${missingPermissions.join(', ')}. Your app needs \"Pages API\" permissions.`);\n          console.error('[fetchPages] Missing required permissions:', missingPermissions);\n        }\n      }\n\n      // Get user info\n      const userInfo = await new Promise((resolve, reject) => {\n        window.FB.api('/me', {\n          access_token: accessToken,\n          fields: 'id,name,email'\n        }, response => {\n          console.debug('[FB.api] /me response:', response);\n          if (response.error) reject(new Error(response.error.message));else resolve(response);\n        });\n      });\n\n      // Get user's pages with extended permissions\n      const pagesResponse = await new Promise((resolve, reject) => {\n        window.FB.api('/me/accounts', {\n          access_token: accessToken,\n          fields: 'id,name,category,access_token,picture,fan_count,tasks'\n        }, response => {\n          // Debug log for troubleshooting\n          console.debug('[FB.api] /me/accounts response:', response);\n          console.debug('[FB.api] /me/accounts full response object:', JSON.stringify(response, null, 2));\n          if (response.error) {\n            console.error('[FB.api] /me/accounts error details:', response.error);\n            reject(new Error(`${response.error.message} (Code: ${response.error.code})`));\n          } else {\n            resolve(response);\n          }\n        });\n      });\n      const pages = pagesResponse.data || [];\n      const mappedPages = pages.map(page => {\n        var _page$picture, _page$picture$data;\n        // Determine permissions from tasks array\n        const tasks = page.tasks || [];\n        const canPost = tasks.includes('CREATE_CONTENT') || tasks.includes('MANAGE');\n        const canComment = tasks.includes('MODERATE') || tasks.includes('MANAGE');\n        return {\n          id: page.id,\n          name: page.name,\n          category: page.category || 'Page',\n          access_token: page.access_token,\n          profilePicture: ((_page$picture = page.picture) === null || _page$picture === void 0 ? void 0 : (_page$picture$data = _page$picture.data) === null || _page$picture$data === void 0 ? void 0 : _page$picture$data.url) || '',\n          canPost: canPost,\n          canComment: canComment,\n          followerCount: page.fan_count || 0,\n          tasks: tasks // Keep tasks for debugging\n        };\n      });\n      setAvailablePages(mappedPages);\n      // Page selection logic\n      if (mappedPages.length === 1) {\n        setSelectedPage(mappedPages[0]);\n        setConnectionStatus(`âœ… Connected successfully! 1 page found.`);\n      } else if (mappedPages.length > 1) {\n        setSelectedPage(null); // Prompt user to select a page\n        setConnectionStatus(`âœ… Connected successfully! ${mappedPages.length} pages found. Please select a page below.`);\n      } else {\n        // Fallback to user profile if no pages available\n        setSelectedPage({\n          id: userInfo.id,\n          name: userInfo.name,\n          access_token: accessToken,\n          category: 'Personal Profile',\n          profilePicture: '',\n          email: userInfo.email || '',\n          isUserProfile: true,\n          canPost: true,\n          canComment: true,\n          followerCount: 0\n        });\n        setConnectionStatus('âœ… Connected as personal profile (no pages found).');\n      }\n      setFacebookConnected(true);\n      setIsConnecting(false);\n      return {\n        mappedPages,\n        userInfo\n      };\n    } catch (error) {\n      console.error('Facebook API error:', error);\n\n      // If dual app mode and we get the specific pages auth trigger\n      if (USE_DUAL_APPS && (error.message === 'NEED_PAGES_AUTH' || error.message.includes('permissions'))) {\n        console.debug('[fetchPages] Dual app mode - basic login successful, need pages auth');\n        setConnectionStatus('âœ… Basic login successful! Now connect your pages app for page management.');\n        setIsConnecting(false);\n        setFacebookConnected(true); // Mark as connected to show the pages auth button\n        return {\n          mappedPages: [],\n          userInfo: null,\n          needsPagesAuth: true\n        };\n      }\n\n      // If dual app mode but other error, still try pages auth\n      if (USE_DUAL_APPS) {\n        console.debug('[fetchPages] Dual app mode - treating error as need for pages auth');\n        setConnectionStatus('âœ… Basic login successful! Pages app connection needed for page management.');\n        setIsConnecting(false);\n        setFacebookConnected(true); // Mark as connected to show the pages auth button\n        return {\n          mappedPages: [],\n          userInfo: null,\n          needsPagesAuth: true\n        };\n      }\n      setConnectionStatus('âŒ Failed to get Facebook data: ' + (error.message || 'Unknown error'));\n      setIsConnecting(false);\n      setFacebookConnected(false);\n      return {\n        mappedPages: [],\n        userInfo: null\n      };\n    }\n  };\n\n  // connectToBackend function\n  const connectToBackend = async (accessToken, userInfo, mappedPages) => {\n    try {\n      console.debug('[connectToBackend] Connecting to backend with:', {\n        userInfo: userInfo === null || userInfo === void 0 ? void 0 : userInfo.id,\n        pagesCount: mappedPages.length,\n        pagesData: mappedPages\n      });\n      const response = await apiClient.connectFacebook(accessToken, userInfo === null || userInfo === void 0 ? void 0 : userInfo.id, mappedPages);\n      console.debug('[connectToBackend] Backend response:', response);\n      setConnectionStatus('âœ… Successfully connected to backend!');\n      return response;\n    } catch (error) {\n      console.error('Backend connection error:', error);\n      setConnectionStatus('âŒ Backend connection failed: ' + (error.message || 'Unknown error'));\n      throw error;\n    }\n  };\n\n  // Icon Components\n\n  const ImageIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n      x: \"3\",\n      y: \"3\",\n      width: \"18\",\n      height: \"18\",\n      rx: \"2\",\n      ry: \"2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"circle\", {\n      cx: \"8.5\",\n      cy: \"8.5\",\n      r: \"1.5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n      points: \"21,15 16,10 5,21\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 225,\n    columnNumber: 5\n  }, this);\n  const AutoReplyIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    children: /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 233,\n    columnNumber: 5\n  }, this);\n  const RocketIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    children: [/*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M12 15l-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 239,\n    columnNumber: 5\n  }, this);\n  const AutoIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    children: /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 248,\n    columnNumber: 5\n  }, this);\n  const ManualIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    children: /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 254,\n    columnNumber: 5\n  }, this);\n  const VideoIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    children: [/*#__PURE__*/_jsxDEV(\"polygon\", {\n      points: \"23 7 16 12 23 17 23 7\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"rect\", {\n      x: \"1\",\n      y: \"5\",\n      width: \"15\",\n      height: \"14\",\n      rx: \"2\",\n      ry: \"2\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 260,\n    columnNumber: 5\n  }, this);\n  const SparkleIcon = () => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: \"16\",\n    height: \"16\",\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    children: /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.582a.5.5 0 0 1 0 .962L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0L9.937 15.5Z\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 267,\n    columnNumber: 5\n  }, this);\n\n  // Clean up any existing Facebook SDK instances\n  const cleanupFacebookSDK = () => {\n    const existingScript = document.getElementById('facebook-jssdk');\n    if (existingScript) {\n      existingScript.remove();\n    }\n    if (window.FB) {\n      delete window.FB;\n    }\n    if (window.fbAsyncInit) {\n      delete window.fbAsyncInit;\n    }\n  };\n\n  // Facebook App Configuration - SINGLE APP SETUP\n  const FACEBOOK_APPS = {\n    LOGIN: process.env.REACT_APP_FACEBOOK_APP_ID || '1526961221410200',\n    // Using the page management app for everything\n    PAGES: process.env.REACT_APP_FACEBOOK_APP_ID || '1526961221410200' // Same app ID\n  };\n  const USE_DUAL_APPS = false; // Force single app mode\n\n  // Load Facebook SDK function\n  const loadFacebookSDK = (appId = FACEBOOK_APPS.LOGIN) => {\n    return new Promise((resolve, reject) => {\n      cleanupFacebookSDK();\n      window.fbAsyncInit = function () {\n        try {\n          console.debug('[loadFacebookSDK] Initializing with App ID:', appId);\n          window.FB.init({\n            appId: appId,\n            cookie: true,\n            xfbml: true,\n            version: 'v19.0'\n          });\n\n          // Store current app ID for reference\n          window.CURRENT_FB_APP_ID = appId;\n          resolve();\n        } catch (error) {\n          console.error('Facebook SDK initialization error:', error);\n          reject(error);\n        }\n      };\n      const script = document.createElement('script');\n      script.id = 'facebook-jssdk';\n      script.src = 'https://connect.facebook.net/en_US/sdk.js';\n      script.async = true;\n      script.defer = true;\n      script.crossOrigin = 'anonymous';\n      script.onerror = () => {\n        reject(new Error('Failed to load Facebook SDK script'));\n      };\n      document.body.appendChild(script);\n    });\n  };\n  const handleAutoInputChange = e => {\n    const {\n      name,\n      value,\n      files\n    } = e.target;\n    setAutoFormData(prev => ({\n      ...prev,\n      [name]: files ? files[0] : value\n    }));\n  };\n  const handleManualInputChange = e => {\n    const {\n      name,\n      value,\n      files\n    } = e.target;\n    setManualFormData(prev => ({\n      ...prev,\n      [name]: files ? files[0] : value\n    }));\n  };\n  const handleMediaTypeChange = (type, formType) => {\n    if (formType === 'auto') {\n      setAutoFormData(prev => ({\n        ...prev,\n        mediaType: type,\n        mediaFile: null\n      }));\n    } else {\n      setManualFormData(prev => ({\n        ...prev,\n        mediaType: type,\n        mediaFile: null\n      }));\n    }\n  };\n\n  // Generate content using Groq API\n  const generatePostContent = async () => {\n    if (!autoFormData.prompt.trim()) {\n      setConnectionStatus('âŒ Please enter a prompt for AI generation');\n      return;\n    }\n    setAutoFormData(prev => ({\n      ...prev,\n      isGenerating: true\n    }));\n    setConnectionStatus('ðŸ¤– Generating content with AI...');\n    try {\n      // Call your backend API to use Groq\n      const response = await apiClient.generateContent(autoFormData.prompt);\n      setAutoFormData(prev => ({\n        ...prev,\n        generatedContent: response.content,\n        isGenerating: false\n      }));\n      setConnectionStatus('âœ… Content generated successfully!');\n    } catch (error) {\n      console.error('Content generation error:', error);\n      setConnectionStatus('âŒ Failed to generate content: ' + (error.message || 'Unknown error'));\n      setAutoFormData(prev => ({\n        ...prev,\n        isGenerating: false\n      }));\n    }\n  };\n\n  // UPDATED: Replace Make.com auto-reply webhook with backend API\n  const handleAutoReplyToggle = async () => {\n    const newState = !autoReplyEnabled;\n    setAutoReplyEnabled(newState);\n    try {\n      setConnectionStatus('ðŸ”„ Updating auto-reply setting...');\n      await apiClient.toggleAutoReply((selectedPage === null || selectedPage === void 0 ? void 0 : selectedPage.id) || 'user_profile', newState, 'Thank you for your comment! We\\'ll get back to you soon.');\n      setConnectionStatus(`${newState ? 'âœ…' : 'âŒ'} Auto-reply ${newState ? 'enabled' : 'disabled'}`);\n    } catch (error) {\n      console.error('Auto-reply toggle error:', error);\n      setConnectionStatus('âŒ Failed to update auto-reply setting');\n      setAutoReplyEnabled(!newState); // Revert on error\n    }\n  };\n\n  // Publish post to Facebook\n  const publishPost = async () => {\n    if (!selectedPage) {\n      setConnectionStatus('âŒ Please select a page first');\n      return;\n    }\n\n    // Determine content based on active tab\n    const isAutoMode = activeTab === 'auto';\n    const content = isAutoMode ? autoFormData.generatedContent : manualFormData.message;\n    const mediaType = isAutoMode ? autoFormData.mediaType : manualFormData.mediaType;\n    const mediaFile = isAutoMode ? autoFormData.mediaFile : manualFormData.mediaFile;\n\n    // Validation\n    if (!content || content.trim() === '') {\n      setConnectionStatus('âŒ Please enter some content for your post');\n      return;\n    }\n    if (mediaType !== 'none' && !mediaFile) {\n      setConnectionStatus('âŒ Please select a media file to upload');\n      return;\n    }\n    try {\n      setIsPublishing(true);\n      setConnectionStatus('ðŸ”„ Publishing post to Facebook...');\n\n      // If no media, just post text\n      if (mediaType === 'none') {\n        await postTextOnly(content);\n      } else {\n        await postWithMedia(content, mediaFile, mediaType);\n      }\n      setConnectionStatus('âœ… Post published successfully!');\n\n      // Clear form data after successful post\n      if (isAutoMode) {\n        setAutoFormData(prev => ({\n          ...prev,\n          prompt: '',\n          generatedContent: '',\n          mediaFile: null,\n          mediaType: 'none'\n        }));\n      } else {\n        setManualFormData(prev => ({\n          ...prev,\n          message: '',\n          mediaFile: null,\n          mediaType: 'none'\n        }));\n      }\n    } catch (error) {\n      console.error('Post publishing error:', error);\n      setConnectionStatus('âŒ Failed to publish post: ' + (error.message || 'Unknown error'));\n    } finally {\n      setIsPublishing(false);\n    }\n  };\n\n  // Post text-only content\n  const postTextOnly = async message => {\n    return new Promise((resolve, reject) => {\n      window.FB.api(`/${selectedPage.id}/feed`, 'POST', {\n        message: message,\n        access_token: selectedPage.access_token\n      }, response => {\n        console.debug('[FB.api] Post response:', response);\n        if (response.error) {\n          reject(new Error(`${response.error.message} (Code: ${response.error.code})`));\n        } else {\n          resolve(response);\n        }\n      });\n    });\n  };\n\n  // Post content with media (photo or video)\n  const postWithMedia = async (message, file, mediaType) => {\n    // Convert file to base64 for Facebook API\n    const fileData = await fileToBase64(file);\n    if (mediaType === 'photo') {\n      return new Promise((resolve, reject) => {\n        window.FB.api(`/${selectedPage.id}/photos`, 'POST', {\n          caption: message,\n          source: fileData,\n          access_token: selectedPage.access_token\n        }, response => {\n          console.debug('[FB.api] Photo post response:', response);\n          if (response.error) {\n            reject(new Error(`${response.error.message} (Code: ${response.error.code})`));\n          } else {\n            resolve(response);\n          }\n        });\n      });\n    } else if (mediaType === 'video') {\n      return new Promise((resolve, reject) => {\n        window.FB.api(`/${selectedPage.id}/videos`, 'POST', {\n          description: message,\n          source: fileData,\n          access_token: selectedPage.access_token\n        }, response => {\n          console.debug('[FB.api] Video post response:', response);\n          if (response.error) {\n            reject(new Error(`${response.error.message} (Code: ${response.error.code})`));\n          } else {\n            resolve(response);\n          }\n        });\n      });\n    }\n  };\n\n  // Helper function to convert file to base64\n  const fileToBase64 = file => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => resolve(reader.result);\n      reader.onerror = error => reject(error);\n    });\n  };\n\n  // Check URL for pages auth callback\n  React.useEffect(() => {\n    const urlParams = new URLSearchParams(window.location.hash.substring(1));\n    const accessToken = urlParams.get('access_token');\n    const state = urlParams.get('state');\n    if (accessToken && state === 'pages_auth') {\n      console.debug('[useEffect] Found pages auth callback in URL');\n      // Send message to opener window (popup parent)\n      if (window.opener) {\n        window.opener.postMessage({\n          type: 'FACEBOOK_PAGES_AUTH',\n          accessToken: accessToken\n        }, window.location.origin);\n        window.close();\n      } else {\n        // Direct navigation case\n        (async () => {\n          setConnectionStatus('ðŸ”„ Processing pages authentication...');\n          const {\n            mappedPages,\n            userInfo\n          } = await fetchPages(accessToken);\n          if (mappedPages.length > 0) {\n            await connectToBackend(accessToken, userInfo, mappedPages);\n          }\n        })();\n      }\n\n      // Clean up URL\n      window.history.replaceState({}, document.title, window.location.pathname);\n    }\n  }, [fetchPages]);\n\n  // Manual Pages App Login for Dual App Setup\n  const loginWithPagesApp = async () => {\n    setIsConnecting(true);\n    setConnectionStatus('ðŸ” Connecting to Facebook Pages App...');\n    try {\n      // Direct redirect to pages app OAuth\n      const pagesAuthUrl = `https://www.facebook.com/v19.0/dialog/oauth?` + `client_id=${FACEBOOK_APPS.PAGES}&` + `redirect_uri=${encodeURIComponent(window.location.origin)}&` + `scope=pages_show_list,pages_manage_posts,pages_manage_engagement,pages_read_engagement&` + `response_type=token&` + `state=pages_auth&` + `display=popup`;\n\n      // Open in popup\n      const popup = window.open(pagesAuthUrl, 'facebookPagesAuth', 'width=600,height=400');\n\n      // Listen for popup message\n      const handleMessage = event => {\n        if (event.origin !== window.location.origin) return;\n        if (event.data.type === 'FACEBOOK_PAGES_AUTH') {\n          window.removeEventListener('message', handleMessage);\n          popup.close();\n          if (event.data.accessToken) {\n            console.debug('[loginWithPagesApp] Got pages access token:', event.data.accessToken);\n            // Use the pages access token to fetch pages\n            (async () => {\n              const {\n                mappedPages,\n                userInfo\n              } = await fetchPages(event.data.accessToken);\n              if (mappedPages.length > 0) {\n                await connectToBackend(event.data.accessToken, userInfo, mappedPages);\n              }\n            })();\n          } else {\n            setConnectionStatus('âŒ Failed to get pages app permissions');\n            setIsConnecting(false);\n          }\n        }\n      };\n      window.addEventListener('message', handleMessage);\n    } catch (error) {\n      console.error('Pages app login error:', error);\n      setConnectionStatus('âŒ Pages app login failed: ' + error.message);\n      setIsConnecting(false);\n    }\n  };\n  const loginWithFacebook = async () => {\n    // Check HTTPS requirement first\n    if (window.location.protocol !== 'https:' && window.location.hostname !== 'localhost') {\n      setConnectionStatus('âŒ Facebook login requires HTTPS. Please use https://localhost:3001 or deploy with HTTPS');\n      return;\n    }\n\n    // Check if user is still authenticated with our backend\n    try {\n      await apiClient.getCurrentUser();\n    } catch (error) {\n      setConnectionStatus('âŒ Your session has expired. Please log out and log back in to connect Facebook.');\n      setTimeout(() => {\n        logout();\n        navigate('/');\n      }, 3000);\n      return;\n    }\n    setIsConnecting(true);\n    setConnectionStatus('ðŸ“¦ Loading Facebook SDK...');\n    try {\n      // For dual app setup, start with login app\n      await loadFacebookSDK(FACEBOOK_APPS.LOGIN);\n      if (!window.FB || typeof window.FB.login !== 'function') {\n        setConnectionStatus('âŒ Facebook SDK failed to load. Please refresh the page and try again.');\n        setIsConnecting(false);\n        return;\n      }\n      setConnectionStatus('ðŸ” Connecting to Facebook...');\n      window.FB.login(response => {\n        console.debug('[FB.login] Response:', response);\n        if (response.authResponse && response.authResponse.accessToken) {\n          console.debug('[FB.login] accessToken:', response.authResponse.accessToken);\n          setConnectionStatus('âœ… Facebook login successful! Fetching pages...');\n\n          // Use IIFE (Immediately Invoked Function Expression) to handle async operations\n          (async () => {\n            try {\n              const {\n                mappedPages,\n                userInfo,\n                needsPagesAuth\n              } = await fetchPages(response.authResponse.accessToken);\n              if (needsPagesAuth && USE_DUAL_APPS) {\n                setConnectionStatus('âœ… Basic login successful! Now connect your pages app for page management.');\n                setFacebookConnected(true); // Mark as connected but show pages auth button\n                return;\n              }\n              if (mappedPages.length > 0) {\n                var _backendResponse$data;\n                setConnectionStatus('ðŸ”„ Connecting to backend...');\n                const backendResponse = await connectToBackend(response.authResponse.accessToken, userInfo, mappedPages);\n\n                // Update frontend state with backend response if available\n                if (backendResponse !== null && backendResponse !== void 0 && (_backendResponse$data = backendResponse.data) !== null && _backendResponse$data !== void 0 && _backendResponse$data.pages) {\n                  console.debug('[FB.login] Using pages from backend response:', backendResponse.data.pages);\n                  setAvailablePages(mappedPages); // Keep original mapping for UI\n                  setConnectionStatus(`âœ… Connected successfully! ${backendResponse.data.pages_connected} pages synchronized with backend.`);\n                }\n              } else {\n                setConnectionStatus('ðŸ”„ No pages found in Facebook API. Connecting to backend to check for existing connections...');\n                try {\n                  // Even if no pages found, try connecting to backend in case there are existing connections\n                  await connectToBackend(response.authResponse.accessToken, userInfo, []);\n\n                  // Check if backend has existing pages for this user\n                  const existingAccounts = await apiClient.getSocialAccounts();\n                  const facebookPages = existingAccounts.filter(acc => acc.platform === 'facebook' && acc.account_type === 'page' && acc.is_connected);\n                  if (facebookPages.length > 0) {\n                    // Convert backend pages to frontend format\n                    const backendMappedPages = facebookPages.map(page => {\n                      var _page$platform_data, _page$platform_data2, _page$platform_data3;\n                      return {\n                        id: page.platform_user_id,\n                        name: page.display_name,\n                        category: ((_page$platform_data = page.platform_data) === null || _page$platform_data === void 0 ? void 0 : _page$platform_data.category) || 'Page',\n                        access_token: page.access_token || response.authResponse.accessToken,\n                        profilePicture: page.profile_picture_url || '',\n                        canPost: ((_page$platform_data2 = page.platform_data) === null || _page$platform_data2 === void 0 ? void 0 : _page$platform_data2.can_post) !== false,\n                        canComment: ((_page$platform_data3 = page.platform_data) === null || _page$platform_data3 === void 0 ? void 0 : _page$platform_data3.can_comment) !== false,\n                        followerCount: page.follower_count || 0\n                      };\n                    });\n                    setAvailablePages(backendMappedPages);\n                    setConnectionStatus(`âœ… Found ${facebookPages.length} existing page(s) from previous connections!`);\n                  } else {\n                    setConnectionStatus('âš ï¸ No pages found. You may need to grant page permissions or create a Facebook page first.');\n                  }\n                } catch (backendError) {\n                  console.error('[FB.login] Backend check failed:', backendError);\n                  setConnectionStatus('âš ï¸ No pages found. You may need to grant page permissions or create a Facebook page first.');\n                }\n              }\n            } catch (error) {\n              console.error('[FB.login] Error in page fetching or backend connection:', error);\n              setConnectionStatus('âŒ Error during setup: ' + (error.message || 'Unknown error'));\n              setIsConnecting(false);\n              setFacebookConnected(false);\n            }\n          })();\n        } else {\n          if (response.status === 'not_authorized') {\n            setConnectionStatus('âŒ Please authorize the app to continue and select at least one page.');\n          } else {\n            setConnectionStatus('âŒ Facebook login cancelled or failed');\n          }\n          setIsConnecting(false);\n          console.warn('[FB.login] No accessToken found in response:', response);\n        }\n      }, {\n        scope: ['public_profile', 'pages_show_list', 'pages_read_engagement', 'pages_manage_posts', 'pages_manage_engagement', 'pages_read_user_content', 'pages_manage_metadata'].join(','),\n        enable_profile_selector: true,\n        return_scopes: true,\n        auth_type: 'rerequest',\n        display: 'popup' // Force popup display\n      });\n    } catch (error) {\n      console.error('Facebook login error:', error);\n      setConnectionStatus('âŒ Facebook login failed: ' + error.message);\n    }\n  };\n\n  // Always render something for the Facebook page\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"facebook-page-container\",\n    style: {\n      padding: 32,\n      maxWidth: 700,\n      margin: '0 auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Facebook Page Automation\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 765,\n      columnNumber: 7\n    }, this), connectionStatus && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 16,\n        color: connectionStatus.startsWith('âœ…') ? 'green' : connectionStatus.startsWith('âŒ') ? 'red' : '#333'\n      },\n      children: connectionStatus\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 768,\n      columnNumber: 9\n    }, this), USE_DUAL_APPS && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 16,\n        padding: 12,\n        background: '#e0f2fe',\n        border: '1px solid #0891b2',\n        borderRadius: 8,\n        fontSize: 14\n      },\n      children: [\"\\uD83D\\uDD04 \", /*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Dual App Mode Active:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 776,\n        columnNumber: 14\n      }, this), \" Using separate apps for login (\", FACEBOOK_APPS.LOGIN, \") and page management (\", FACEBOOK_APPS.PAGES, \")\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 775,\n      columnNumber: 9\n    }, this), !facebookConnected && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 24\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: loginWithFacebook,\n        disabled: isConnecting,\n        style: {\n          padding: '10px 24px',\n          fontSize: 18\n        },\n        children: isConnecting ? 'Connecting...' : 'Connect Facebook'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 782,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 10,\n          color: '#666'\n        },\n        children: \"Connect your Facebook account to manage posts, auto-replies, and more!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 785,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 781,\n      columnNumber: 9\n    }, this), facebookConnected && availablePages.length === 0 && !(USE_DUAL_APPS && (connectionStatus.includes('Now connect your pages app') || connectionStatus.includes('Pages app connection needed'))) && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 24,\n        color: '#b91c1c',\n        background: '#fff7f7',\n        padding: 16,\n        borderRadius: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"No Facebook Pages found.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 794,\n          columnNumber: 13\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 794,\n          columnNumber: 55\n        }, this), \"This may be because:\", /*#__PURE__*/_jsxDEV(\"ul\", {\n          style: {\n            margin: '8px 0 0 20px',\n            color: '#b91c1c'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"You did not select any pages during Facebook login.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 797,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"You denied required permissions.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 798,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"Your Facebook account does not have any managed pages.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 799,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Your Facebook app configuration is incorrect.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 800,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 800,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 796,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 793,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          margin: '12px 0',\n          padding: 12,\n          background: '#fef3c7',\n          color: '#92400e',\n          borderRadius: 4,\n          fontSize: 14\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\uD83D\\uDD27 Facebook App Setup Checklist:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 805,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n          style: {\n            margin: '8px 0 0 20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"App Type:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 807,\n              columnNumber: 19\n            }, this), \" Should be \\\"Consumer\\\" or \\\"Business\\\" (not just page management)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 807,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Use Cases:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 808,\n              columnNumber: 19\n            }, this), \" Add both \\\"Facebook Login\\\" AND \\\"Pages API\\\"\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 808,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"App Review:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 809,\n              columnNumber: 19\n            }, this), \" Some permissions may need review for production\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 809,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Development Mode:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 810,\n              columnNumber: 19\n            }, this), \" Make sure you're added as an app tester\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 810,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 806,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Login App ID:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 813,\n            columnNumber: 15\n          }, this), \" \", FACEBOOK_APPS.LOGIN, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 813,\n            columnNumber: 67\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Pages App ID:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 814,\n            columnNumber: 15\n          }, this), \" \", FACEBOOK_APPS.PAGES, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 814,\n            columnNumber: 67\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Using Dual Apps:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 815,\n            columnNumber: 15\n          }, this), \" \", USE_DUAL_APPS ? 'Yes' : 'No', /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 815,\n            columnNumber: 79\n          }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Current Mode:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 816,\n            columnNumber: 15\n          }, this), \" \", USE_DUAL_APPS ? 'Dual App Setup' : 'Single App Setup']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 812,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 804,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          gap: 12,\n          flexWrap: 'wrap'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: loginWithFacebook,\n          style: {\n            padding: '8px 18px',\n            background: '#1877f2',\n            color: '#fff',\n            border: 'none',\n            borderRadius: 4,\n            fontWeight: 600\n          },\n          children: \"Re-request Facebook Permissions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 821,\n          columnNumber: 13\n        }, this), USE_DUAL_APPS && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: loginWithPagesApp,\n          disabled: isConnecting,\n          style: {\n            padding: '8px 18px',\n            background: '#059669',\n            color: '#fff',\n            border: 'none',\n            borderRadius: 4,\n            fontWeight: 600\n          },\n          children: isConnecting ? 'Connecting...' : 'Connect Pages App'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 828,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            window.open('https://developers.facebook.com/apps/', '_blank');\n          },\n          style: {\n            padding: '8px 18px',\n            background: '#6b7280',\n            color: '#fff',\n            border: 'none',\n            borderRadius: 4,\n            fontWeight: 600\n          },\n          children: \"Open Facebook App Settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 836,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 820,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 792,\n      columnNumber: 9\n    }, this), facebookConnected && availablePages.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-select-section\",\n      style: {\n        marginTop: 24\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"fb-page-select\",\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Select a Facebook Page:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 850,\n          columnNumber: 43\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 850,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"fb-page-select\",\n        value: selectedPage ? selectedPage.id : '',\n        onChange: e => {\n          const page = availablePages.find(p => p.id === e.target.value);\n          if (page) {\n            setSelectedPage(page);\n            setConnectionStatus(`âœ… Page \"${page.name}\" selected successfully! You can now manage posts and auto-replies.`);\n            console.log('[Page Selection] Selected page:', page);\n          } else {\n            setSelectedPage(null);\n            setConnectionStatus('âš ï¸ Please select a page to continue.');\n          }\n        },\n        style: {\n          marginLeft: 8,\n          padding: '8px 12px',\n          borderRadius: 4,\n          border: '1px solid #ddd'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"-- Select Page --\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 867,\n          columnNumber: 13\n        }, this), availablePages.map(page => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: page.id,\n          children: [page.name, \" (\", page.category, \") \", page.followerCount > 0 ? `- ${page.followerCount} followers` : '']\n        }, page.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 869,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 851,\n        columnNumber: 11\n      }, this), selectedPage && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 12,\n          padding: 12,\n          background: '#f0f9ff',\n          borderRadius: 8,\n          border: '1px solid #0ea5e9'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            marginBottom: 8\n          },\n          children: [selectedPage.profilePicture && /*#__PURE__*/_jsxDEV(\"img\", {\n            src: selectedPage.profilePicture,\n            alt: selectedPage.name,\n            width: 40,\n            height: 40,\n            style: {\n              borderRadius: '50%',\n              marginRight: 12\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 878,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: 600,\n                fontSize: 16\n              },\n              children: selectedPage.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 887,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: '#666',\n                fontSize: 14\n              },\n              children: selectedPage.category\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 888,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 886,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 876,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            fontSize: 14,\n            color: '#0369a1'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"\\u2705 Can post: \", selectedPage.canPost ? 'Yes' : 'No']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 892,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"\\u2705 Can manage comments: \", selectedPage.canComment ? 'Yes' : 'No']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 893,\n            columnNumber: 17\n          }, this), selectedPage.followerCount > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [\"\\uD83D\\uDC65 Followers: \", selectedPage.followerCount.toLocaleString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 895,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 891,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 875,\n        columnNumber: 13\n      }, this), !selectedPage && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#b91c1c',\n          marginTop: 8,\n          padding: 8,\n          background: '#fef2f2',\n          borderRadius: 4\n        },\n        children: \"\\u26A0\\uFE0F Please select a page from the dropdown above to enable posting and auto-reply features.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 902,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"details\", {\n        style: {\n          marginTop: 12,\n          fontSize: 13\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"summary\", {\n          children: [\"Debug: Show available pages data (\", availablePages.length, \" found)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 908,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n          style: {\n            background: '#f3f3f3',\n            padding: 8,\n            borderRadius: 4,\n            maxHeight: 200,\n            overflow: 'auto'\n          },\n          children: JSON.stringify(availablePages, null, 2)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 909,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 907,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 849,\n      columnNumber: 9\n    }, this), USE_DUAL_APPS && facebookConnected && availablePages.length === 0 && (connectionStatus.includes('Now connect your pages app') || connectionStatus.includes('Pages app connection needed')) && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 24,\n        padding: 16,\n        background: '#f0fdf4',\n        border: '1px solid #16a34a',\n        borderRadius: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\u2705 Basic Facebook login successful!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 918,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 918,\n          columnNumber: 64\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: '#15803d'\n          },\n          children: \"Now connect your Pages app to manage Facebook pages:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 919,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 917,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: loginWithPagesApp,\n        disabled: isConnecting,\n        style: {\n          padding: '12px 24px',\n          background: '#16a34a',\n          color: '#fff',\n          border: 'none',\n          borderRadius: 6,\n          fontWeight: 600,\n          fontSize: 16\n        },\n        children: isConnecting ? 'Connecting to Pages App...' : 'ðŸ”— Connect Facebook Pages App'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 921,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 916,\n      columnNumber: 9\n    }, this), facebookConnected && selectedPage && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: 32\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 24,\n          padding: 16,\n          background: '#f8fafc',\n          borderRadius: 8,\n          border: '1px solid #e2e8f0'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: '0 0 12px 0',\n            display: 'flex',\n            alignItems: 'center',\n            gap: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(AutoReplyIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 945,\n            columnNumber: 15\n          }, this), \"Auto-Reply to Comments\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 944,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            gap: 12\n          },\n          children: /*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: 8,\n              cursor: 'pointer'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"checkbox\",\n              checked: autoReplyEnabled,\n              onChange: handleAutoReplyToggle,\n              style: {\n                width: 18,\n                height: 18\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 950,\n              columnNumber: 17\n            }, this), autoReplyEnabled ? 'Auto-reply is enabled' : 'Enable auto-reply to comments']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 949,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 948,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: '8px 0 0 0',\n            fontSize: 14,\n            color: '#64748b'\n          },\n          children: \"When enabled, the bot will automatically reply to new comments on your page posts.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 959,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 943,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 24\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            borderBottom: '2px solid #e2e8f0'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab('auto'),\n            style: {\n              padding: '12px 24px',\n              border: 'none',\n              background: activeTab === 'auto' ? '#3b82f6' : 'transparent',\n              color: activeTab === 'auto' ? 'white' : '#64748b',\n              borderRadius: '8px 8px 0 0',\n              fontWeight: 600,\n              cursor: 'pointer',\n              display: 'flex',\n              alignItems: 'center',\n              gap: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(AutoIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 982,\n              columnNumber: 17\n            }, this), \"AI Auto Post\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 967,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setActiveTab('manual'),\n            style: {\n              padding: '12px 24px',\n              border: 'none',\n              background: activeTab === 'manual' ? '#3b82f6' : 'transparent',\n              color: activeTab === 'manual' ? 'white' : '#64748b',\n              borderRadius: '8px 8px 0 0',\n              fontWeight: 600,\n              cursor: 'pointer',\n              display: 'flex',\n              alignItems: 'center',\n              gap: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(ManualIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1000,\n              columnNumber: 17\n            }, this), \"Manual Post\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 985,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 966,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 965,\n        columnNumber: 11\n      }, this), activeTab === 'auto' && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            marginBottom: 16,\n            display: 'flex',\n            alignItems: 'center',\n            gap: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(SparkleIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1010,\n            columnNumber: 17\n          }, this), \"AI-Generated Post\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1009,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#64748b',\n            marginBottom: 16\n          },\n          children: \"Describe what you want to post about, and AI will generate engaging content for you.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1013,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 16\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: 8,\n              fontWeight: 600\n            },\n            children: \"Content Prompt:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1018,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"prompt\",\n            value: autoFormData.prompt,\n            onChange: handleAutoInputChange,\n            placeholder: \"e.g., 'Create a motivational post about entrepreneurship' or 'Write about our latest product launch'\",\n            style: {\n              width: '100%',\n              minHeight: 100,\n              padding: 12,\n              border: '1px solid #d1d5db',\n              borderRadius: 8,\n              fontSize: 14,\n              resize: 'vertical'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1021,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1017,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: generatePostContent,\n          disabled: autoFormData.isGenerating || !autoFormData.prompt.trim(),\n          style: {\n            padding: '12px 24px',\n            background: autoFormData.isGenerating ? '#94a3b8' : '#10b981',\n            color: 'white',\n            border: 'none',\n            borderRadius: 8,\n            fontWeight: 600,\n            cursor: autoFormData.isGenerating ? 'not-allowed' : 'pointer',\n            display: 'flex',\n            alignItems: 'center',\n            gap: 8,\n            marginBottom: 16\n          },\n          children: [/*#__PURE__*/_jsxDEV(SparkleIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1055,\n            columnNumber: 17\n          }, this), autoFormData.isGenerating ? 'Generating...' : 'Generate Content']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1038,\n          columnNumber: 15\n        }, this), autoFormData.generatedContent && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 16\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: 8,\n              fontWeight: 600\n            },\n            children: \"Generated Content:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1061,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: autoFormData.generatedContent,\n            onChange: e => setAutoFormData(prev => ({\n              ...prev,\n              generatedContent: e.target.value\n            })),\n            style: {\n              width: '100%',\n              minHeight: 120,\n              padding: 12,\n              border: '1px solid #d1d5db',\n              borderRadius: 8,\n              fontSize: 14,\n              resize: 'vertical'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1064,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontSize: 12,\n              color: '#64748b',\n              marginTop: 4\n            },\n            children: \"You can edit the generated content before posting.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1077,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1060,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1008,\n        columnNumber: 13\n      }, this), activeTab === 'manual' && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            marginBottom: 16,\n            display: 'flex',\n            alignItems: 'center',\n            gap: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(ManualIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1088,\n            columnNumber: 17\n          }, this), \"Manual Post\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1087,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: '#64748b',\n            marginBottom: 16\n          },\n          children: \"Create and publish your own custom post content.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1091,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 16\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: 8,\n              fontWeight: 600\n            },\n            children: \"Post Content:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1096,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            name: \"message\",\n            value: manualFormData.message,\n            onChange: handleManualInputChange,\n            placeholder: \"Write your post content here...\",\n            style: {\n              width: '100%',\n              minHeight: 120,\n              padding: 12,\n              border: '1px solid #d1d5db',\n              borderRadius: 8,\n              fontSize: 14,\n              resize: 'vertical'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1099,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1095,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1086,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: 8,\n            fontWeight: 600\n          },\n          children: \"Media Type:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1120,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: 12\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleMediaTypeChange('none', activeTab),\n            style: {\n              padding: '8px 16px',\n              border: '1px solid #d1d5db',\n              background: (activeTab === 'auto' ? autoFormData.mediaType : manualFormData.mediaType) === 'none' ? '#3b82f6' : 'white',\n              color: (activeTab === 'auto' ? autoFormData.mediaType : manualFormData.mediaType) === 'none' ? 'white' : '#374151',\n              borderRadius: 6,\n              cursor: 'pointer',\n              fontWeight: 500\n            },\n            children: \"Text Only\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1124,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleMediaTypeChange('photo', activeTab),\n            style: {\n              padding: '8px 16px',\n              border: '1px solid #d1d5db',\n              background: (activeTab === 'auto' ? autoFormData.mediaType : manualFormData.mediaType) === 'photo' ? '#3b82f6' : 'white',\n              color: (activeTab === 'auto' ? autoFormData.mediaType : manualFormData.mediaType) === 'photo' ? 'white' : '#374151',\n              borderRadius: 6,\n              cursor: 'pointer',\n              fontWeight: 500,\n              display: 'flex',\n              alignItems: 'center',\n              gap: 4\n            },\n            children: [/*#__PURE__*/_jsxDEV(ImageIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1153,\n              columnNumber: 17\n            }, this), \"Photo\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1138,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleMediaTypeChange('video', activeTab),\n            style: {\n              padding: '8px 16px',\n              border: '1px solid #d1d5db',\n              background: (activeTab === 'auto' ? autoFormData.mediaType : manualFormData.mediaType) === 'video' ? '#3b82f6' : 'white',\n              color: (activeTab === 'auto' ? autoFormData.mediaType : manualFormData.mediaType) === 'video' ? 'white' : '#374151',\n              borderRadius: 6,\n              cursor: 'pointer',\n              fontWeight: 500,\n              display: 'flex',\n              alignItems: 'center',\n              gap: 4\n            },\n            children: [/*#__PURE__*/_jsxDEV(VideoIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1171,\n              columnNumber: 17\n            }, this), \"Video\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1156,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1123,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1119,\n        columnNumber: 11\n      }, this), (activeTab === 'auto' && autoFormData.mediaType !== 'none' || activeTab === 'manual' && manualFormData.mediaType !== 'none') && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: 8,\n            fontWeight: 600\n          },\n          children: [\"Upload \", activeTab === 'auto' ? autoFormData.mediaType : manualFormData.mediaType, \":\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1181,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          name: \"mediaFile\",\n          accept: activeTab === 'auto' ? autoFormData.mediaType === 'photo' ? 'image/*' : 'video/*' : manualFormData.mediaType === 'photo' ? 'image/*' : 'video/*',\n          onChange: activeTab === 'auto' ? handleAutoInputChange : handleManualInputChange,\n          style: {\n            width: '100%',\n            padding: 8,\n            border: '1px solid #d1d5db',\n            borderRadius: 6\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1184,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1180,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 24\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          style: {\n            padding: '12px 32px',\n            background: isPublishing ? '#94a3b8' : '#1877f2',\n            color: 'white',\n            border: 'none',\n            borderRadius: 8,\n            fontWeight: 600,\n            cursor: isPublishing ? 'not-allowed' : 'pointer',\n            fontSize: 16,\n            display: 'flex',\n            alignItems: 'center',\n            gap: 8,\n            opacity: isPublishing || !selectedPage || activeTab === 'auto' && !autoFormData.generatedContent.trim() || activeTab === 'manual' && !manualFormData.message.trim() ? 0.6 : 1\n          },\n          onClick: publishPost,\n          disabled: isPublishing || !selectedPage || activeTab === 'auto' && !autoFormData.generatedContent.trim() || activeTab === 'manual' && !manualFormData.message.trim(),\n          children: [/*#__PURE__*/_jsxDEV(RocketIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1226,\n            columnNumber: 15\n          }, this), isPublishing ? 'Publishing...' : 'Publish Post']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1204,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: 14,\n            color: '#64748b',\n            marginTop: 8\n          },\n          children: !selectedPage ? 'Please select a page first' : activeTab === 'auto' && !autoFormData.generatedContent.trim() ? 'Generate content first' : activeTab === 'manual' && !manualFormData.message.trim() ? 'Enter your message first' : 'Ready to publish to your Facebook page'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1230,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1203,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 941,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 764,\n    columnNumber: 5\n  }, this);\n}\n_s(FacebookPage, \"KEvx6G2KZ8VyW4CxDZAPRpRBNOU=\", false, function () {\n  return [useNavigate, useAuth];\n});\n_c = FacebookPage;\nexport default FacebookPage;\nvar _c;\n$RefreshReg$(_c, \"FacebookPage\");","map":{"version":3,"names":["React","useState","useNavigate","useAuth","apiClient","jsxDEV","_jsxDEV","FacebookPage","_s","navigate","logout","isConnecting","setIsConnecting","connectionStatus","setConnectionStatus","selectedPage","setSelectedPage","availablePages","setAvailablePages","facebookConnected","setFacebookConnected","autoReplyEnabled","setAutoReplyEnabled","activeTab","setActiveTab","autoFormData","setAutoFormData","prompt","mediaType","mediaFile","generatedContent","isGenerating","manualFormData","setManualFormData","message","isPublishing","setIsPublishing","fetchPages","accessToken","console","debug","USE_DUAL_APPS","mappedPages","userInfo","_permissionsResponse$","permissionsResponse","Promise","resolve","reject","window","FB","api","access_token","response","error","Error","grantedPermissions","data","filter","p","status","map","permission","includes","requiredPermissions","missingPermissions","length","join","fields","pagesResponse","JSON","stringify","code","pages","page","_page$picture","_page$picture$data","tasks","canPost","canComment","id","name","category","profilePicture","picture","url","followerCount","fan_count","email","isUserProfile","needsPagesAuth","connectToBackend","pagesCount","pagesData","connectFacebook","ImageIcon","width","height","viewBox","fill","stroke","strokeWidth","children","x","y","rx","ry","fileName","_jsxFileName","lineNumber","columnNumber","cx","cy","r","points","AutoReplyIcon","d","RocketIcon","AutoIcon","ManualIcon","VideoIcon","SparkleIcon","cleanupFacebookSDK","existingScript","document","getElementById","remove","fbAsyncInit","FACEBOOK_APPS","LOGIN","process","env","REACT_APP_FACEBOOK_APP_ID","PAGES","loadFacebookSDK","appId","init","cookie","xfbml","version","CURRENT_FB_APP_ID","script","createElement","src","async","defer","crossOrigin","onerror","body","appendChild","handleAutoInputChange","e","value","files","target","prev","handleManualInputChange","handleMediaTypeChange","type","formType","generatePostContent","trim","generateContent","content","handleAutoReplyToggle","newState","toggleAutoReply","publishPost","isAutoMode","postTextOnly","postWithMedia","file","fileData","fileToBase64","caption","source","description","reader","FileReader","readAsDataURL","onload","result","useEffect","urlParams","URLSearchParams","location","hash","substring","get","state","opener","postMessage","origin","close","history","replaceState","title","pathname","loginWithPagesApp","pagesAuthUrl","encodeURIComponent","popup","open","handleMessage","event","removeEventListener","addEventListener","loginWithFacebook","protocol","hostname","getCurrentUser","setTimeout","login","authResponse","_backendResponse$data","backendResponse","pages_connected","existingAccounts","getSocialAccounts","facebookPages","acc","platform","account_type","is_connected","backendMappedPages","_page$platform_data","_page$platform_data2","_page$platform_data3","platform_user_id","display_name","platform_data","profile_picture_url","can_post","can_comment","follower_count","backendError","warn","scope","enable_profile_selector","return_scopes","auth_type","display","className","style","padding","maxWidth","margin","marginBottom","color","startsWith","background","border","borderRadius","fontSize","onClick","disabled","marginTop","gap","flexWrap","fontWeight","htmlFor","onChange","find","log","marginLeft","alignItems","alt","marginRight","toLocaleString","maxHeight","overflow","cursor","checked","borderBottom","placeholder","minHeight","resize","accept","opacity","_c","$RefreshReg$"],"sources":["F:/Projects/Automation Dashboard/frontend/src/components/FacebookPage.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport apiClient from '../services/apiClient';\nimport './SocialMediaPage.css';\n\nfunction FacebookPage() {\n  const navigate = useNavigate();\n  const { logout } = useAuth();\n  const [isConnecting, setIsConnecting] = useState(false);\n  const [connectionStatus, setConnectionStatus] = useState('');\n  \n  // Facebook OAuth states\n  const [selectedPage, setSelectedPage] = useState(null);\nconst [availablePages, setAvailablePages] = useState([]); // Store all fetched pages\n  const [facebookConnected, setFacebookConnected] = useState(false);\n  \n  // Auto-reply toggle state\n  const [autoReplyEnabled, setAutoReplyEnabled] = useState(false);\n  \n  // Tab selection state\n  const [activeTab, setActiveTab] = useState('auto');\n  \n  // Auto post states\n  const [autoFormData, setAutoFormData] = useState({\n    prompt: '',\n    mediaType: 'none', // 'none', 'photo', 'video'\n    mediaFile: null,\n    generatedContent: '',\n    isGenerating: false\n  });\n  \n  // Manual post states\n  const [manualFormData, setManualFormData] = useState({\n    message: '',\n    mediaType: 'none',\n    mediaFile: null\n  });\n\n  // Publishing state\n  const [isPublishing, setIsPublishing] = useState(false);\n\n  // fetchPages function\n  const fetchPages = async (accessToken) => {\n    console.debug('[fetchPages] Called with accessToken:', accessToken);\n    console.debug('[fetchPages] Using dual apps:', USE_DUAL_APPS);\n    \n    if (!accessToken) {\n      setConnectionStatus('âŒ No Facebook access token found. Please try reconnecting.');\n      setIsConnecting(false);\n      setFacebookConnected(false);\n      return { mappedPages: [], userInfo: null };\n    }\n    \n    try {\n      // If using dual apps, get pages access token via direct API call\n      if (USE_DUAL_APPS) {\n        console.debug('[fetchPages] Dual app mode - requesting pages access via direct API...');\n        setConnectionStatus('ðŸ”„ Getting page permissions...');\n        \n        // For now, try using the original access token but with pages app API calls\n        // This is a simplified approach that might work if the user has already granted permissions\n        console.debug('[fetchPages] Using original access token for pages API calls');\n        setConnectionStatus('ðŸ”„ Attempting to fetch pages with current permissions...');\n      }\n      // Check what permissions we actually have\n      const permissionsResponse = await new Promise((resolve, reject) => {\n        window.FB.api('/me/permissions', { access_token: accessToken }, (response) => {\n          console.debug('[FB.api] /me/permissions response:', response);\n          if (response.error) reject(new Error(response.error.message));\n          else resolve(response);\n        });\n      });\n      \n      const grantedPermissions = permissionsResponse.data?.filter(p => p.status === 'granted').map(p => p.permission) || [];\n      console.debug('[fetchPages] Granted permissions:', grantedPermissions);\n      console.debug('[fetchPages] All permissions (including declined):', permissionsResponse.data);\n      \n      // In dual app mode, we expect basic permissions only\n      if (USE_DUAL_APPS) {\n        console.debug('[fetchPages] Dual app mode - checking if we have basic login permissions');\n        if (grantedPermissions.includes('public_profile')) {\n          console.debug('[fetchPages] Basic login successful, need to connect pages app');\n          throw new Error('NEED_PAGES_AUTH'); // Trigger pages auth flow\n        }\n      } else {\n        // Check for required permissions in single app mode\n        const requiredPermissions = ['pages_show_list', 'pages_manage_posts'];\n        const missingPermissions = requiredPermissions.filter(p => !grantedPermissions.includes(p));\n        \n        if (missingPermissions.length > 0) {\n          setConnectionStatus(`âŒ Missing permissions: ${missingPermissions.join(', ')}. Your app needs \"Pages API\" permissions.`);\n          console.error('[fetchPages] Missing required permissions:', missingPermissions);\n        }\n      }\n      \n      // Get user info\n      const userInfo = await new Promise((resolve, reject) => {\n        window.FB.api('/me', { access_token: accessToken, fields: 'id,name,email' }, (response) => {\n          console.debug('[FB.api] /me response:', response);\n          if (response.error) reject(new Error(response.error.message));\n          else resolve(response);\n        });\n      });\n      \n      // Get user's pages with extended permissions\n      const pagesResponse = await new Promise((resolve, reject) => {\n        window.FB.api('/me/accounts', {\n          access_token: accessToken,\n          fields: 'id,name,category,access_token,picture,fan_count,tasks'\n        }, (response) => {\n          // Debug log for troubleshooting\n          console.debug('[FB.api] /me/accounts response:', response);\n          console.debug('[FB.api] /me/accounts full response object:', JSON.stringify(response, null, 2));\n          if (response.error) {\n            console.error('[FB.api] /me/accounts error details:', response.error);\n            reject(new Error(`${response.error.message} (Code: ${response.error.code})`));\n          } else {\n            resolve(response);\n          }\n        });\n      });\n      const pages = pagesResponse.data || [];\n      const mappedPages = pages.map(page => {\n        // Determine permissions from tasks array\n        const tasks = page.tasks || [];\n        const canPost = tasks.includes('CREATE_CONTENT') || tasks.includes('MANAGE');\n        const canComment = tasks.includes('MODERATE') || tasks.includes('MANAGE');\n        \n        return {\n          id: page.id,\n          name: page.name,\n          category: page.category || 'Page',\n          access_token: page.access_token,\n          profilePicture: page.picture?.data?.url || '',\n          canPost: canPost,\n          canComment: canComment,\n          followerCount: page.fan_count || 0,\n          tasks: tasks // Keep tasks for debugging\n        };\n      });\n      setAvailablePages(mappedPages);\n      // Page selection logic\n      if (mappedPages.length === 1) {\n        setSelectedPage(mappedPages[0]);\n        setConnectionStatus(`âœ… Connected successfully! 1 page found.`);\n      } else if (mappedPages.length > 1) {\n        setSelectedPage(null); // Prompt user to select a page\n        setConnectionStatus(`âœ… Connected successfully! ${mappedPages.length} pages found. Please select a page below.`);\n      } else {\n        // Fallback to user profile if no pages available\n        setSelectedPage({\n          id: userInfo.id,\n          name: userInfo.name,\n          access_token: accessToken,\n          category: 'Personal Profile',\n          profilePicture: '',\n          email: userInfo.email || '',\n          isUserProfile: true,\n          canPost: true,\n          canComment: true,\n          followerCount: 0\n        });\n        setConnectionStatus('âœ… Connected as personal profile (no pages found).');\n      }\n      setFacebookConnected(true);\n      setIsConnecting(false);\n      return { mappedPages, userInfo };\n          } catch (error) {\n        console.error('Facebook API error:', error);\n        \n        // If dual app mode and we get the specific pages auth trigger\n        if (USE_DUAL_APPS && (error.message === 'NEED_PAGES_AUTH' || error.message.includes('permissions'))) {\n          console.debug('[fetchPages] Dual app mode - basic login successful, need pages auth');\n          setConnectionStatus('âœ… Basic login successful! Now connect your pages app for page management.');\n          setIsConnecting(false);\n          setFacebookConnected(true); // Mark as connected to show the pages auth button\n          return { mappedPages: [], userInfo: null, needsPagesAuth: true };\n        }\n        \n        // If dual app mode but other error, still try pages auth\n        if (USE_DUAL_APPS) {\n          console.debug('[fetchPages] Dual app mode - treating error as need for pages auth');\n          setConnectionStatus('âœ… Basic login successful! Pages app connection needed for page management.');\n          setIsConnecting(false);\n          setFacebookConnected(true); // Mark as connected to show the pages auth button\n          return { mappedPages: [], userInfo: null, needsPagesAuth: true };\n        }\n        \n        setConnectionStatus('âŒ Failed to get Facebook data: ' + (error.message || 'Unknown error'));\n        setIsConnecting(false);\n        setFacebookConnected(false);\n        return { mappedPages: [], userInfo: null };\n      }\n  };\n\n  // connectToBackend function\n  const connectToBackend = async (accessToken, userInfo, mappedPages) => {\n    try {\n      console.debug('[connectToBackend] Connecting to backend with:', {\n        userInfo: userInfo?.id,\n        pagesCount: mappedPages.length,\n        pagesData: mappedPages\n      });\n      \n      const response = await apiClient.connectFacebook(\n        accessToken,\n        userInfo?.id,\n        mappedPages\n      );\n      \n      console.debug('[connectToBackend] Backend response:', response);\n      setConnectionStatus('âœ… Successfully connected to backend!');\n      return response;\n    } catch (error) {\n      console.error('Backend connection error:', error);\n      setConnectionStatus('âŒ Backend connection failed: ' + (error.message || 'Unknown error'));\n      throw error;\n    }\n  };\n\n  // Icon Components\n\n  const ImageIcon = () => (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n      <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect>\n      <circle cx=\"8.5\" cy=\"8.5\" r=\"1.5\"></circle>\n      <polyline points=\"21,15 16,10 5,21\"></polyline>\n    </svg>\n  );\n\n  const AutoReplyIcon = () => (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n      <path d=\"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z\"></path>\n    </svg>\n  );\n\n  const RocketIcon = () => (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n      <path d=\"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z\"></path>\n      <path d=\"M12 15l-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z\"></path>\n      <path d=\"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0\"></path>\n      <path d=\"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5\"></path>\n    </svg>\n  );\n\n  const AutoIcon = () => (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n      <path d=\"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5\"/>\n    </svg>\n  );\n\n  const ManualIcon = () => (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n      <path d=\"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z\"/>\n    </svg>\n  );\n\n  const VideoIcon = () => (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n      <polygon points=\"23 7 16 12 23 17 23 7\"></polygon>\n      <rect x=\"1\" y=\"5\" width=\"15\" height=\"14\" rx=\"2\" ry=\"2\"></rect>\n    </svg>\n  );\n\n  const SparkleIcon = () => (\n    <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\">\n      <path d=\"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.582a.5.5 0 0 1 0 .962L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0L9.937 15.5Z\"/>\n    </svg>\n  );\n\n  // Clean up any existing Facebook SDK instances\n  const cleanupFacebookSDK = () => {\n    const existingScript = document.getElementById('facebook-jssdk');\n    if (existingScript) {\n      existingScript.remove();\n    }\n    \n    if (window.FB) {\n      delete window.FB;\n    }\n    \n    if (window.fbAsyncInit) {\n      delete window.fbAsyncInit;\n    }\n  };\n\n  // Facebook App Configuration - SINGLE APP SETUP\n  const FACEBOOK_APPS = {\n    LOGIN: process.env.REACT_APP_FACEBOOK_APP_ID || '1526961221410200',    // Using the page management app for everything\n    PAGES: process.env.REACT_APP_FACEBOOK_APP_ID || '1526961221410200'     // Same app ID\n  };\n  \n  const USE_DUAL_APPS = false; // Force single app mode\n\n  // Load Facebook SDK function\n  const loadFacebookSDK = (appId = FACEBOOK_APPS.LOGIN) => {\n    return new Promise((resolve, reject) => {\n      cleanupFacebookSDK();\n      \n      window.fbAsyncInit = function () {\n        try {\n          console.debug('[loadFacebookSDK] Initializing with App ID:', appId);\n          \n          window.FB.init({\n            appId: appId,\n            cookie: true,\n            xfbml: true,\n            version: 'v19.0'\n          });\n\n          // Store current app ID for reference\n          window.CURRENT_FB_APP_ID = appId;\n          resolve();\n        } catch (error) {\n          console.error('Facebook SDK initialization error:', error);\n          reject(error);\n        }\n      };\n\n      const script = document.createElement('script');\n      script.id = 'facebook-jssdk';\n      script.src = 'https://connect.facebook.net/en_US/sdk.js';\n      script.async = true;\n      script.defer = true;\n      script.crossOrigin = 'anonymous';\n\n      script.onerror = () => {\n        reject(new Error('Failed to load Facebook SDK script'));\n      };\n\n      document.body.appendChild(script);\n    });\n  };\n\n  const handleAutoInputChange = (e) => {\n    const { name, value, files } = e.target;\n    setAutoFormData(prev => ({\n      ...prev,\n      [name]: files ? files[0] : value\n    }));\n  };\n\n  const handleManualInputChange = (e) => {\n    const { name, value, files } = e.target;\n    setManualFormData(prev => ({\n      ...prev,\n      [name]: files ? files[0] : value\n    }));\n  };\n\n  const handleMediaTypeChange = (type, formType) => {\n    if (formType === 'auto') {\n      setAutoFormData(prev => ({\n        ...prev,\n        mediaType: type,\n        mediaFile: null\n      }));\n    } else {\n      setManualFormData(prev => ({\n        ...prev,\n        mediaType: type,\n        mediaFile: null\n      }));\n    }\n  };\n\n  // Generate content using Groq API\n  const generatePostContent = async () => {\n    if (!autoFormData.prompt.trim()) {\n      setConnectionStatus('âŒ Please enter a prompt for AI generation');\n      return;\n    }\n\n    setAutoFormData(prev => ({ ...prev, isGenerating: true }));\n    setConnectionStatus('ðŸ¤– Generating content with AI...');\n\n    try {\n      // Call your backend API to use Groq\n      const response = await apiClient.generateContent(autoFormData.prompt);\n      \n      setAutoFormData(prev => ({\n        ...prev,\n        generatedContent: response.content,\n        isGenerating: false\n      }));\n      \n      setConnectionStatus('âœ… Content generated successfully!');\n    } catch (error) {\n      console.error('Content generation error:', error);\n      setConnectionStatus('âŒ Failed to generate content: ' + (error.message || 'Unknown error'));\n      setAutoFormData(prev => ({ ...prev, isGenerating: false }));\n    }\n  };\n\n  // UPDATED: Replace Make.com auto-reply webhook with backend API\n  const handleAutoReplyToggle = async () => {\n    const newState = !autoReplyEnabled;\n    setAutoReplyEnabled(newState);\n    \n    try {\n      setConnectionStatus('ðŸ”„ Updating auto-reply setting...');\n      \n      await apiClient.toggleAutoReply(\n        selectedPage?.id || 'user_profile',\n        newState,\n        'Thank you for your comment! We\\'ll get back to you soon.'\n      );\n\n      setConnectionStatus(`${newState ? 'âœ…' : 'âŒ'} Auto-reply ${newState ? 'enabled' : 'disabled'}`);\n    } catch (error) {\n      console.error('Auto-reply toggle error:', error);\n      setConnectionStatus('âŒ Failed to update auto-reply setting');\n      setAutoReplyEnabled(!newState); // Revert on error\n    }\n  };\n\n  // Publish post to Facebook\n  const publishPost = async () => {\n    if (!selectedPage) {\n      setConnectionStatus('âŒ Please select a page first');\n      return;\n    }\n\n    // Determine content based on active tab\n    const isAutoMode = activeTab === 'auto';\n    const content = isAutoMode ? autoFormData.generatedContent : manualFormData.message;\n    const mediaType = isAutoMode ? autoFormData.mediaType : manualFormData.mediaType;\n    const mediaFile = isAutoMode ? autoFormData.mediaFile : manualFormData.mediaFile;\n\n    // Validation\n    if (!content || content.trim() === '') {\n      setConnectionStatus('âŒ Please enter some content for your post');\n      return;\n    }\n\n    if (mediaType !== 'none' && !mediaFile) {\n      setConnectionStatus('âŒ Please select a media file to upload');\n      return;\n    }\n\n    try {\n      setIsPublishing(true);\n      setConnectionStatus('ðŸ”„ Publishing post to Facebook...');\n      \n      // If no media, just post text\n      if (mediaType === 'none') {\n        await postTextOnly(content);\n      } else {\n        await postWithMedia(content, mediaFile, mediaType);\n      }\n\n      setConnectionStatus('âœ… Post published successfully!');\n      \n      // Clear form data after successful post\n      if (isAutoMode) {\n        setAutoFormData(prev => ({\n          ...prev,\n          prompt: '',\n          generatedContent: '',\n          mediaFile: null,\n          mediaType: 'none'\n        }));\n      } else {\n        setManualFormData(prev => ({\n          ...prev,\n          message: '',\n          mediaFile: null,\n          mediaType: 'none'\n        }));\n      }\n\n    } catch (error) {\n      console.error('Post publishing error:', error);\n      setConnectionStatus('âŒ Failed to publish post: ' + (error.message || 'Unknown error'));\n    } finally {\n      setIsPublishing(false);\n    }\n  };\n\n  // Post text-only content\n  const postTextOnly = async (message) => {\n    return new Promise((resolve, reject) => {\n      window.FB.api(`/${selectedPage.id}/feed`, 'POST', {\n        message: message,\n        access_token: selectedPage.access_token\n      }, (response) => {\n        console.debug('[FB.api] Post response:', response);\n        if (response.error) {\n          reject(new Error(`${response.error.message} (Code: ${response.error.code})`));\n        } else {\n          resolve(response);\n        }\n      });\n    });\n  };\n\n  // Post content with media (photo or video)\n  const postWithMedia = async (message, file, mediaType) => {\n    // Convert file to base64 for Facebook API\n    const fileData = await fileToBase64(file);\n    \n    if (mediaType === 'photo') {\n      return new Promise((resolve, reject) => {\n        window.FB.api(`/${selectedPage.id}/photos`, 'POST', {\n          caption: message,\n          source: fileData,\n          access_token: selectedPage.access_token\n        }, (response) => {\n          console.debug('[FB.api] Photo post response:', response);\n          if (response.error) {\n            reject(new Error(`${response.error.message} (Code: ${response.error.code})`));\n          } else {\n            resolve(response);\n          }\n        });\n      });\n    } else if (mediaType === 'video') {\n      return new Promise((resolve, reject) => {\n        window.FB.api(`/${selectedPage.id}/videos`, 'POST', {\n          description: message,\n          source: fileData,\n          access_token: selectedPage.access_token\n        }, (response) => {\n          console.debug('[FB.api] Video post response:', response);\n          if (response.error) {\n            reject(new Error(`${response.error.message} (Code: ${response.error.code})`));\n          } else {\n            resolve(response);\n          }\n        });\n      });\n    }\n  };\n\n  // Helper function to convert file to base64\n  const fileToBase64 = (file) => {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsDataURL(file);\n      reader.onload = () => resolve(reader.result);\n      reader.onerror = (error) => reject(error);\n    });\n  };\n\n  // Check URL for pages auth callback\n  React.useEffect(() => {\n    const urlParams = new URLSearchParams(window.location.hash.substring(1));\n    const accessToken = urlParams.get('access_token');\n    const state = urlParams.get('state');\n    \n    if (accessToken && state === 'pages_auth') {\n      console.debug('[useEffect] Found pages auth callback in URL');\n      // Send message to opener window (popup parent)\n      if (window.opener) {\n        window.opener.postMessage({\n          type: 'FACEBOOK_PAGES_AUTH',\n          accessToken: accessToken\n        }, window.location.origin);\n        window.close();\n      } else {\n        // Direct navigation case\n        (async () => {\n          setConnectionStatus('ðŸ”„ Processing pages authentication...');\n          const { mappedPages, userInfo } = await fetchPages(accessToken);\n          if (mappedPages.length > 0) {\n            await connectToBackend(accessToken, userInfo, mappedPages);\n          }\n        })();\n      }\n      \n      // Clean up URL\n      window.history.replaceState({}, document.title, window.location.pathname);\n    }\n  }, [fetchPages]);\n\n  // Manual Pages App Login for Dual App Setup\n  const loginWithPagesApp = async () => {\n    setIsConnecting(true);\n    setConnectionStatus('ðŸ” Connecting to Facebook Pages App...');\n    \n    try {\n      // Direct redirect to pages app OAuth\n      const pagesAuthUrl = `https://www.facebook.com/v19.0/dialog/oauth?` +\n        `client_id=${FACEBOOK_APPS.PAGES}&` +\n        `redirect_uri=${encodeURIComponent(window.location.origin)}&` +\n        `scope=pages_show_list,pages_manage_posts,pages_manage_engagement,pages_read_engagement&` +\n        `response_type=token&` +\n        `state=pages_auth&` +\n        `display=popup`;\n      \n      // Open in popup\n      const popup = window.open(pagesAuthUrl, 'facebookPagesAuth', 'width=600,height=400');\n      \n      // Listen for popup message\n      const handleMessage = (event) => {\n        if (event.origin !== window.location.origin) return;\n        \n        if (event.data.type === 'FACEBOOK_PAGES_AUTH') {\n          window.removeEventListener('message', handleMessage);\n          popup.close();\n          \n          if (event.data.accessToken) {\n            console.debug('[loginWithPagesApp] Got pages access token:', event.data.accessToken);\n            // Use the pages access token to fetch pages\n            (async () => {\n              const { mappedPages, userInfo } = await fetchPages(event.data.accessToken);\n              if (mappedPages.length > 0) {\n                await connectToBackend(event.data.accessToken, userInfo, mappedPages);\n              }\n            })();\n          } else {\n            setConnectionStatus('âŒ Failed to get pages app permissions');\n            setIsConnecting(false);\n          }\n        }\n      };\n      \n      window.addEventListener('message', handleMessage);\n      \n    } catch (error) {\n      console.error('Pages app login error:', error);\n      setConnectionStatus('âŒ Pages app login failed: ' + error.message);\n      setIsConnecting(false);\n    }\n  };\n\n  const loginWithFacebook = async () => {\n    // Check HTTPS requirement first\n    if (window.location.protocol !== 'https:' && window.location.hostname !== 'localhost') {\n      setConnectionStatus('âŒ Facebook login requires HTTPS. Please use https://localhost:3001 or deploy with HTTPS');\n      return;\n    }\n\n    // Check if user is still authenticated with our backend\n    try {\n      await apiClient.getCurrentUser();\n    } catch (error) {\n      setConnectionStatus('âŒ Your session has expired. Please log out and log back in to connect Facebook.');\n      setTimeout(() => {\n        logout();\n        navigate('/');\n      }, 3000);\n      return;\n    }\n\n    setIsConnecting(true);\n    setConnectionStatus('ðŸ“¦ Loading Facebook SDK...');\n\n    try {\n      // For dual app setup, start with login app\n      await loadFacebookSDK(FACEBOOK_APPS.LOGIN);\n\n      if (!window.FB || typeof window.FB.login !== 'function') {\n        setConnectionStatus('âŒ Facebook SDK failed to load. Please refresh the page and try again.');\n        setIsConnecting(false);\n        return;\n      }\n\n      setConnectionStatus('ðŸ” Connecting to Facebook...');\n      \n      window.FB.login((response) => {\n        console.debug('[FB.login] Response:', response);\n        if (response.authResponse && response.authResponse.accessToken) {\n          console.debug('[FB.login] accessToken:', response.authResponse.accessToken);\n          setConnectionStatus('âœ… Facebook login successful! Fetching pages...');\n          \n          // Use IIFE (Immediately Invoked Function Expression) to handle async operations\n          (async () => {\n            try {\n              const { mappedPages, userInfo, needsPagesAuth } = await fetchPages(response.authResponse.accessToken);\n              \n              if (needsPagesAuth && USE_DUAL_APPS) {\n                setConnectionStatus('âœ… Basic login successful! Now connect your pages app for page management.');\n                setFacebookConnected(true); // Mark as connected but show pages auth button\n                return;\n              }\n              \n              if (mappedPages.length > 0) {\n                setConnectionStatus('ðŸ”„ Connecting to backend...');\n                const backendResponse = await connectToBackend(response.authResponse.accessToken, userInfo, mappedPages);\n                \n                // Update frontend state with backend response if available\n                if (backendResponse?.data?.pages) {\n                  console.debug('[FB.login] Using pages from backend response:', backendResponse.data.pages);\n                  setAvailablePages(mappedPages); // Keep original mapping for UI\n                  setConnectionStatus(`âœ… Connected successfully! ${backendResponse.data.pages_connected} pages synchronized with backend.`);\n                }\n              } else {\n                setConnectionStatus('ðŸ”„ No pages found in Facebook API. Connecting to backend to check for existing connections...');\n                \n                try {\n                  // Even if no pages found, try connecting to backend in case there are existing connections\n                  await connectToBackend(response.authResponse.accessToken, userInfo, []);\n                  \n                  // Check if backend has existing pages for this user\n                  const existingAccounts = await apiClient.getSocialAccounts();\n                  const facebookPages = existingAccounts.filter(acc => \n                    acc.platform === 'facebook' && acc.account_type === 'page' && acc.is_connected\n                  );\n                  \n                  if (facebookPages.length > 0) {\n                    // Convert backend pages to frontend format\n                    const backendMappedPages = facebookPages.map(page => ({\n                      id: page.platform_user_id,\n                      name: page.display_name,\n                      category: page.platform_data?.category || 'Page',\n                      access_token: page.access_token || response.authResponse.accessToken,\n                      profilePicture: page.profile_picture_url || '',\n                      canPost: page.platform_data?.can_post !== false,\n                      canComment: page.platform_data?.can_comment !== false,\n                      followerCount: page.follower_count || 0\n                    }));\n                    \n                    setAvailablePages(backendMappedPages);\n                    setConnectionStatus(`âœ… Found ${facebookPages.length} existing page(s) from previous connections!`);\n                  } else {\n                    setConnectionStatus('âš ï¸ No pages found. You may need to grant page permissions or create a Facebook page first.');\n                  }\n                } catch (backendError) {\n                  console.error('[FB.login] Backend check failed:', backendError);\n                  setConnectionStatus('âš ï¸ No pages found. You may need to grant page permissions or create a Facebook page first.');\n                }\n              }\n            } catch (error) {\n              console.error('[FB.login] Error in page fetching or backend connection:', error);\n              setConnectionStatus('âŒ Error during setup: ' + (error.message || 'Unknown error'));\n              setIsConnecting(false);\n              setFacebookConnected(false);\n            }\n          })();\n        } else {\n          if (response.status === 'not_authorized') {\n            setConnectionStatus('âŒ Please authorize the app to continue and select at least one page.');\n          } else {\n            setConnectionStatus('âŒ Facebook login cancelled or failed');\n          }\n          setIsConnecting(false);\n          console.warn('[FB.login] No accessToken found in response:', response);\n        }\n      }, {\n        scope: [\n          'public_profile',\n          'pages_show_list',\n          'pages_read_engagement', \n          'pages_manage_posts',\n          'pages_manage_engagement',\n          'pages_read_user_content',\n          'pages_manage_metadata'\n        ].join(','),\n        enable_profile_selector: true,\n        return_scopes: true,\n        auth_type: 'rerequest',\n        display: 'popup'  // Force popup display\n      });\n    } catch (error) {\n      console.error('Facebook login error:', error);\n      setConnectionStatus('âŒ Facebook login failed: ' + error.message);\n    }\n  };\n\n  // Always render something for the Facebook page\n  return (\n    <div className=\"facebook-page-container\" style={{ padding: 32, maxWidth: 700, margin: '0 auto' }}>\n      <h2>Facebook Page Automation</h2>\n      {/* Show connection status */}\n      {connectionStatus && (\n        <div style={{ marginBottom: 16, color: connectionStatus.startsWith('âœ…') ? 'green' : connectionStatus.startsWith('âŒ') ? 'red' : '#333' }}>\n          {connectionStatus}\n        </div>\n      )}\n      \n      {/* Show dual app mode indicator */}\n      {USE_DUAL_APPS && (\n        <div style={{ marginBottom: 16, padding: 12, background: '#e0f2fe', border: '1px solid #0891b2', borderRadius: 8, fontSize: 14 }}>\n          ðŸ”„ <strong>Dual App Mode Active:</strong> Using separate apps for login ({FACEBOOK_APPS.LOGIN}) and page management ({FACEBOOK_APPS.PAGES})\n        </div>\n      )}\n      {/* Show Connect button if not connected */}\n      {!facebookConnected && (\n        <div style={{ marginBottom: 24 }}>\n          <button onClick={loginWithFacebook} disabled={isConnecting} style={{ padding: '10px 24px', fontSize: 18 }}>\n            {isConnecting ? 'Connecting...' : 'Connect Facebook'}\n          </button>\n          <div style={{ marginTop: 10, color: '#666' }}>\n            Connect your Facebook account to manage posts, auto-replies, and more!\n          </div>\n        </div>\n      )}\n      {/* Show re-request permissions button if no pages found after connection */}\n      {facebookConnected && availablePages.length === 0 && !(USE_DUAL_APPS && (connectionStatus.includes('Now connect your pages app') || connectionStatus.includes('Pages app connection needed'))) && (\n        <div style={{ marginTop: 24, color: '#b91c1c', background: '#fff7f7', padding: 16, borderRadius: 8 }}>\n          <div style={{ marginBottom: 8 }}>\n            <strong>No Facebook Pages found.</strong> <br />\n            This may be because:\n            <ul style={{ margin: '8px 0 0 20px', color: '#b91c1c' }}>\n              <li>You did not select any pages during Facebook login.</li>\n              <li>You denied required permissions.</li>\n              <li>Your Facebook account does not have any managed pages.</li>\n              <li><strong>Your Facebook app configuration is incorrect.</strong></li>\n            </ul>\n          </div>\n          \n          <div style={{ margin: '12px 0', padding: 12, background: '#fef3c7', color: '#92400e', borderRadius: 4, fontSize: 14 }}>\n            <strong>ðŸ”§ Facebook App Setup Checklist:</strong>\n            <ol style={{ margin: '8px 0 0 20px' }}>\n              <li><strong>App Type:</strong> Should be \"Consumer\" or \"Business\" (not just page management)</li>\n              <li><strong>Use Cases:</strong> Add both \"Facebook Login\" AND \"Pages API\"</li>\n              <li><strong>App Review:</strong> Some permissions may need review for production</li>\n              <li><strong>Development Mode:</strong> Make sure you're added as an app tester</li>\n            </ol>\n            <div style={{ marginTop: 8 }}>\n              <strong>Login App ID:</strong> {FACEBOOK_APPS.LOGIN}<br/>\n              <strong>Pages App ID:</strong> {FACEBOOK_APPS.PAGES}<br/>\n              <strong>Using Dual Apps:</strong> {USE_DUAL_APPS ? 'Yes' : 'No'}<br/>\n              <strong>Current Mode:</strong> {USE_DUAL_APPS ? 'Dual App Setup' : 'Single App Setup'}\n            </div>\n          </div>\n          \n          <div style={{ display: 'flex', gap: 12, flexWrap: 'wrap' }}>\n            <button\n              onClick={loginWithFacebook}\n              style={{ padding: '8px 18px', background: '#1877f2', color: '#fff', border: 'none', borderRadius: 4, fontWeight: 600 }}\n            >\n              Re-request Facebook Permissions\n            </button>\n            {USE_DUAL_APPS && (\n              <button\n                onClick={loginWithPagesApp}\n                disabled={isConnecting}\n                style={{ padding: '8px 18px', background: '#059669', color: '#fff', border: 'none', borderRadius: 4, fontWeight: 600 }}\n              >\n                {isConnecting ? 'Connecting...' : 'Connect Pages App'}\n              </button>\n            )}\n            <button\n              onClick={() => {\n                window.open('https://developers.facebook.com/apps/', '_blank');\n              }}\n              style={{ padding: '8px 18px', background: '#6b7280', color: '#fff', border: 'none', borderRadius: 4, fontWeight: 600 }}\n            >\n              Open Facebook App Settings\n            </button>\n          </div>\n        </div>\n      )}\n      {/* Page selection UI if any pages exist */}\n      {facebookConnected && availablePages.length > 0 && (\n        <div className=\"page-select-section\" style={{ marginTop: 24 }}>\n          <label htmlFor=\"fb-page-select\"><strong>Select a Facebook Page:</strong></label>\n          <select\n            id=\"fb-page-select\"\n            value={selectedPage ? selectedPage.id : ''}\n            onChange={e => {\n              const page = availablePages.find(p => p.id === e.target.value);\n              if (page) {\n                setSelectedPage(page);\n                setConnectionStatus(`âœ… Page \"${page.name}\" selected successfully! You can now manage posts and auto-replies.`);\n                console.log('[Page Selection] Selected page:', page);\n              } else {\n                setSelectedPage(null);\n                setConnectionStatus('âš ï¸ Please select a page to continue.');\n              }\n            }}\n            style={{ marginLeft: 8, padding: '8px 12px', borderRadius: 4, border: '1px solid #ddd' }}\n          >\n            <option value=\"\">-- Select Page --</option>\n            {availablePages.map(page => (\n              <option key={page.id} value={page.id}>\n                {page.name} ({page.category}) {page.followerCount > 0 ? `- ${page.followerCount} followers` : ''}\n              </option>\n            ))}\n          </select>\n          {selectedPage && (\n            <div style={{ marginTop: 12, padding: 12, background: '#f0f9ff', borderRadius: 8, border: '1px solid #0ea5e9' }}>\n              <div style={{ display: 'flex', alignItems: 'center', marginBottom: 8 }}>\n                {selectedPage.profilePicture && (\n                  <img \n                    src={selectedPage.profilePicture} \n                    alt={selectedPage.name} \n                    width={40} \n                    height={40}\n                    style={{ borderRadius: '50%', marginRight: 12 }} \n                  />\n                )}\n                <div>\n                  <div style={{ fontWeight: 600, fontSize: 16 }}>{selectedPage.name}</div>\n                  <div style={{ color: '#666', fontSize: 14 }}>{selectedPage.category}</div>\n                </div>\n              </div>\n              <div style={{ fontSize: 14, color: '#0369a1' }}>\n                <div>âœ… Can post: {selectedPage.canPost ? 'Yes' : 'No'}</div>\n                <div>âœ… Can manage comments: {selectedPage.canComment ? 'Yes' : 'No'}</div>\n                {selectedPage.followerCount > 0 && (\n                  <div>ðŸ‘¥ Followers: {selectedPage.followerCount.toLocaleString()}</div>\n                )}\n              </div>\n            </div>\n          )}\n          {/* Show warning if pages exist but no selection */}\n          {!selectedPage && (\n            <div style={{ color: '#b91c1c', marginTop: 8, padding: 8, background: '#fef2f2', borderRadius: 4 }}>\n              âš ï¸ Please select a page from the dropdown above to enable posting and auto-reply features.\n            </div>\n          )}\n          {/* Debug: show availablePages raw data */}\n          <details style={{ marginTop: 12, fontSize: 13 }}>\n            <summary>Debug: Show available pages data ({availablePages.length} found)</summary>\n            <pre style={{ background: '#f3f3f3', padding: 8, borderRadius: 4, maxHeight: 200, overflow: 'auto' }}>{JSON.stringify(availablePages, null, 2)}</pre>\n          </details>\n        </div>\n      )}\n\n      {/* Show Pages App Login if basic login succeeded but pages auth needed */}\n      {USE_DUAL_APPS && facebookConnected && availablePages.length === 0 && (connectionStatus.includes('Now connect your pages app') || connectionStatus.includes('Pages app connection needed')) && (\n        <div style={{ marginTop: 24, padding: 16, background: '#f0fdf4', border: '1px solid #16a34a', borderRadius: 8 }}>\n          <div style={{ marginBottom: 12 }}>\n            <strong>âœ… Basic Facebook login successful!</strong><br/>\n            <span style={{ color: '#15803d' }}>Now connect your Pages app to manage Facebook pages:</span>\n          </div>\n          <button\n            onClick={loginWithPagesApp}\n            disabled={isConnecting}\n            style={{ \n              padding: '12px 24px', \n              background: '#16a34a', \n              color: '#fff', \n              border: 'none', \n              borderRadius: 6, \n              fontWeight: 600,\n              fontSize: 16\n            }}\n          >\n            {isConnecting ? 'Connecting to Pages App...' : 'ðŸ”— Connect Facebook Pages App'}\n          </button>\n        </div>\n      )}\n\n      {/* Main functionality - only show when a page is selected */}\n      {facebookConnected && selectedPage && (\n        <div style={{ marginTop: 32 }}>\n          {/* Auto-Reply Toggle */}\n          <div style={{ marginBottom: 24, padding: 16, background: '#f8fafc', borderRadius: 8, border: '1px solid #e2e8f0' }}>\n            <h3 style={{ margin: '0 0 12px 0', display: 'flex', alignItems: 'center', gap: 8 }}>\n              <AutoReplyIcon />\n              Auto-Reply to Comments\n            </h3>\n            <div style={{ display: 'flex', alignItems: 'center', gap: 12 }}>\n              <label style={{ display: 'flex', alignItems: 'center', gap: 8, cursor: 'pointer' }}>\n                <input\n                  type=\"checkbox\"\n                  checked={autoReplyEnabled}\n                  onChange={handleAutoReplyToggle}\n                  style={{ width: 18, height: 18 }}\n                />\n                {autoReplyEnabled ? 'Auto-reply is enabled' : 'Enable auto-reply to comments'}\n              </label>\n            </div>\n            <p style={{ margin: '8px 0 0 0', fontSize: 14, color: '#64748b' }}>\n              When enabled, the bot will automatically reply to new comments on your page posts.\n            </p>\n          </div>\n\n          {/* Tab Navigation */}\n          <div style={{ marginBottom: 24 }}>\n            <div style={{ display: 'flex', borderBottom: '2px solid #e2e8f0' }}>\n              <button\n                onClick={() => setActiveTab('auto')}\n                style={{\n                  padding: '12px 24px',\n                  border: 'none',\n                  background: activeTab === 'auto' ? '#3b82f6' : 'transparent',\n                  color: activeTab === 'auto' ? 'white' : '#64748b',\n                  borderRadius: '8px 8px 0 0',\n                  fontWeight: 600,\n                  cursor: 'pointer',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: 8\n                }}\n              >\n                <AutoIcon />\n                AI Auto Post\n              </button>\n              <button\n                onClick={() => setActiveTab('manual')}\n                style={{\n                  padding: '12px 24px',\n                  border: 'none',\n                  background: activeTab === 'manual' ? '#3b82f6' : 'transparent',\n                  color: activeTab === 'manual' ? 'white' : '#64748b',\n                  borderRadius: '8px 8px 0 0',\n                  fontWeight: 600,\n                  cursor: 'pointer',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: 8\n                }}\n              >\n                <ManualIcon />\n                Manual Post\n              </button>\n            </div>\n          </div>\n\n          {/* Content based on active tab */}\n          {activeTab === 'auto' && (\n            <div>\n              <h3 style={{ marginBottom: 16, display: 'flex', alignItems: 'center', gap: 8 }}>\n                <SparkleIcon />\n                AI-Generated Post\n              </h3>\n              <p style={{ color: '#64748b', marginBottom: 16 }}>\n                Describe what you want to post about, and AI will generate engaging content for you.\n              </p>\n              \n              <div style={{ marginBottom: 16 }}>\n                <label style={{ display: 'block', marginBottom: 8, fontWeight: 600 }}>\n                  Content Prompt:\n                </label>\n                <textarea\n                  name=\"prompt\"\n                  value={autoFormData.prompt}\n                  onChange={handleAutoInputChange}\n                  placeholder=\"e.g., 'Create a motivational post about entrepreneurship' or 'Write about our latest product launch'\"\n                  style={{\n                    width: '100%',\n                    minHeight: 100,\n                    padding: 12,\n                    border: '1px solid #d1d5db',\n                    borderRadius: 8,\n                    fontSize: 14,\n                    resize: 'vertical'\n                  }}\n                />\n              </div>\n\n              <button\n                onClick={generatePostContent}\n                disabled={autoFormData.isGenerating || !autoFormData.prompt.trim()}\n                style={{\n                  padding: '12px 24px',\n                  background: autoFormData.isGenerating ? '#94a3b8' : '#10b981',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: 8,\n                  fontWeight: 600,\n                  cursor: autoFormData.isGenerating ? 'not-allowed' : 'pointer',\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: 8,\n                  marginBottom: 16\n                }}\n              >\n                <SparkleIcon />\n                {autoFormData.isGenerating ? 'Generating...' : 'Generate Content'}\n              </button>\n\n              {autoFormData.generatedContent && (\n                <div style={{ marginBottom: 16 }}>\n                  <label style={{ display: 'block', marginBottom: 8, fontWeight: 600 }}>\n                    Generated Content:\n                  </label>\n                  <textarea\n                    value={autoFormData.generatedContent}\n                    onChange={(e) => setAutoFormData(prev => ({ ...prev, generatedContent: e.target.value }))}\n                    style={{\n                      width: '100%',\n                      minHeight: 120,\n                      padding: 12,\n                      border: '1px solid #d1d5db',\n                      borderRadius: 8,\n                      fontSize: 14,\n                      resize: 'vertical'\n                    }}\n                  />\n                  <p style={{ fontSize: 12, color: '#64748b', marginTop: 4 }}>\n                    You can edit the generated content before posting.\n                  </p>\n                </div>\n              )}\n            </div>\n          )}\n\n          {activeTab === 'manual' && (\n            <div>\n              <h3 style={{ marginBottom: 16, display: 'flex', alignItems: 'center', gap: 8 }}>\n                <ManualIcon />\n                Manual Post\n              </h3>\n              <p style={{ color: '#64748b', marginBottom: 16 }}>\n                Create and publish your own custom post content.\n              </p>\n              \n              <div style={{ marginBottom: 16 }}>\n                <label style={{ display: 'block', marginBottom: 8, fontWeight: 600 }}>\n                  Post Content:\n                </label>\n                <textarea\n                  name=\"message\"\n                  value={manualFormData.message}\n                  onChange={handleManualInputChange}\n                  placeholder=\"Write your post content here...\"\n                  style={{\n                    width: '100%',\n                    minHeight: 120,\n                    padding: 12,\n                    border: '1px solid #d1d5db',\n                    borderRadius: 8,\n                    fontSize: 14,\n                    resize: 'vertical'\n                  }}\n                />\n              </div>\n            </div>\n          )}\n\n          {/* Media Type Selection (for both tabs) */}\n          <div style={{ marginBottom: 16 }}>\n            <label style={{ display: 'block', marginBottom: 8, fontWeight: 600 }}>\n              Media Type:\n            </label>\n            <div style={{ display: 'flex', gap: 12 }}>\n              <button\n                onClick={() => handleMediaTypeChange('none', activeTab)}\n                style={{\n                  padding: '8px 16px',\n                  border: '1px solid #d1d5db',\n                  background: (activeTab === 'auto' ? autoFormData.mediaType : manualFormData.mediaType) === 'none' ? '#3b82f6' : 'white',\n                  color: (activeTab === 'auto' ? autoFormData.mediaType : manualFormData.mediaType) === 'none' ? 'white' : '#374151',\n                  borderRadius: 6,\n                  cursor: 'pointer',\n                  fontWeight: 500\n                }}\n              >\n                Text Only\n              </button>\n              <button\n                onClick={() => handleMediaTypeChange('photo', activeTab)}\n                style={{\n                  padding: '8px 16px',\n                  border: '1px solid #d1d5db',\n                  background: (activeTab === 'auto' ? autoFormData.mediaType : manualFormData.mediaType) === 'photo' ? '#3b82f6' : 'white',\n                  color: (activeTab === 'auto' ? autoFormData.mediaType : manualFormData.mediaType) === 'photo' ? 'white' : '#374151',\n                  borderRadius: 6,\n                  cursor: 'pointer',\n                  fontWeight: 500,\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: 4\n                }}\n              >\n                <ImageIcon />\n                Photo\n              </button>\n              <button\n                onClick={() => handleMediaTypeChange('video', activeTab)}\n                style={{\n                  padding: '8px 16px',\n                  border: '1px solid #d1d5db',\n                  background: (activeTab === 'auto' ? autoFormData.mediaType : manualFormData.mediaType) === 'video' ? '#3b82f6' : 'white',\n                  color: (activeTab === 'auto' ? autoFormData.mediaType : manualFormData.mediaType) === 'video' ? 'white' : '#374151',\n                  borderRadius: 6,\n                  cursor: 'pointer',\n                  fontWeight: 500,\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: 4\n                }}\n              >\n                <VideoIcon />\n                Video\n              </button>\n            </div>\n          </div>\n\n          {/* Media File Upload */}\n          {((activeTab === 'auto' && autoFormData.mediaType !== 'none') || \n            (activeTab === 'manual' && manualFormData.mediaType !== 'none')) && (\n            <div style={{ marginBottom: 16 }}>\n              <label style={{ display: 'block', marginBottom: 8, fontWeight: 600 }}>\n                Upload {activeTab === 'auto' ? autoFormData.mediaType : manualFormData.mediaType}:\n              </label>\n              <input\n                type=\"file\"\n                name=\"mediaFile\"\n                accept={activeTab === 'auto' \n                  ? (autoFormData.mediaType === 'photo' ? 'image/*' : 'video/*')\n                  : (manualFormData.mediaType === 'photo' ? 'image/*' : 'video/*')\n                }\n                onChange={activeTab === 'auto' ? handleAutoInputChange : handleManualInputChange}\n                style={{\n                  width: '100%',\n                  padding: 8,\n                  border: '1px solid #d1d5db',\n                  borderRadius: 6\n                }}\n              />\n            </div>\n          )}\n\n          {/* Post Button */}\n          <div style={{ marginTop: 24 }}>\n            <button\n              style={{\n                padding: '12px 32px',\n                background: isPublishing ? '#94a3b8' : '#1877f2',\n                color: 'white',\n                border: 'none',\n                borderRadius: 8,\n                fontWeight: 600,\n                cursor: isPublishing ? 'not-allowed' : 'pointer',\n                fontSize: 16,\n                display: 'flex',\n                alignItems: 'center',\n                gap: 8,\n                opacity: (isPublishing || !selectedPage || \n                         (activeTab === 'auto' && !autoFormData.generatedContent.trim()) ||\n                         (activeTab === 'manual' && !manualFormData.message.trim())) ? 0.6 : 1\n              }}\n              onClick={publishPost}\n              disabled={isPublishing || !selectedPage || \n                       (activeTab === 'auto' && !autoFormData.generatedContent.trim()) ||\n                       (activeTab === 'manual' && !manualFormData.message.trim())}\n            >\n              <RocketIcon />\n              {isPublishing ? 'Publishing...' : 'Publish Post'}\n            </button>\n            {/* Helper text */}\n            <p style={{ fontSize: 14, color: '#64748b', marginTop: 8 }}>\n              {!selectedPage ? 'Please select a page first' :\n               activeTab === 'auto' && !autoFormData.generatedContent.trim() ? 'Generate content first' :\n               activeTab === 'manual' && !manualFormData.message.trim() ? 'Enter your message first' :\n               'Ready to publish to your Facebook page'}\n            </p>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n\n\nexport default FacebookPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}